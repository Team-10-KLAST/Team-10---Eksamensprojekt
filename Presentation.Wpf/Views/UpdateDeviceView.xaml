<UserControl x:Class="Presentation.Wpf.Views.UpdateDeviceView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Presentation.Wpf.Views"
             mc:Ignorable="d" 
             Background="{StaticResource PageBackgroundBrush}"
             d:DesignHeight="500" d:DesignWidth="400">

    <Grid Margin="20" Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Form Fields -->
            <RowDefinition Height="Auto"/>
            <!-- History log -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock
            Style="{StaticResource HeaderTextStyle}"
            Margin="0,0,0,20"
            Grid.Row="0">
            <Run Language="da-dk" Text="Update device" />
        </TextBlock>

        <!-- Form Fields -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Left column -->
            <StackPanel Grid.Column="0" Orientation="Vertical" Margin="0,0,16,0">

                <!-- Type -->
                <TextBlock Text="Type" 
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBox Text="{Binding Type, Mode=OneWay}"
                         Height="33"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Center"
                         Style="{StaticResource ReadonlyInputFieldStyle}"
                         Margin="0,0,0,12"/>

                <!-- Owner -->
                <TextBlock Text="Owner (name)"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBox Text="{Binding Owner}"
                         Height="33"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Center"
                         Style="{StaticResource ReadonlyInputFieldStyle}"
                         Margin="0,0,0,12"/>

                <!-- Status -->
                <TextBlock Text="Status"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <ComboBox Style="{StaticResource InputFieldComboStyle}"
                          ItemsSource="{Binding StatusOptions}"
                          SelectedItem="{Binding SelectedStatus, Mode=TwoWay}"
                          HorizontalAlignment="Stretch"
                          Height="33"
                          Margin="0,0,0,12"/>

                <!-- Registration date -->
                <TextBlock Text="Registration date" 
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <DatePicker SelectedDate="{Binding RegistrationDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            HorizontalAlignment="Stretch"
                            VerticalContentAlignment="Center"
                            Height="33"
                            Margin="0,0,0,12"/>

                <!-- Wiped flag -->
                <TextBlock Text="Wiped"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <CheckBox Content="Device has been wiped"
                          IsChecked="{Binding Wiped, Mode=TwoWay}"/>
            </StackPanel>

            <!-- Right column -->
            <StackPanel Grid.Column="1" Orientation="Vertical" Margin="16,0,0,0">

                <!-- OS -->
                <TextBlock Text="OS"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBox Text="{Binding OS, Mode=OneWay}"
                         Height="33"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Center"
                         Style="{StaticResource ReadonlyInputFieldStyle}"
                         Margin="0,0,0,12"/>

                <!-- Location -->
                <TextBlock Text="Location (country)"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBox Height="33"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Center"
                         Style="{StaticResource ReadonlyInputFieldStyle}"
                         Text="{Binding Location, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0,0,0,12"/>

                <!-- Needed by -->
                <TextBlock Text="Needed by"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBox Height="33"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Center"
                         Style="{StaticResource ReadonlyInputFieldStyle}"
                         Text="{Binding NeededByDate, Mode=OneWay, StringFormat={}{0:dd.MM.yyyy}}"
                         IsReadOnly="True"
                         Margin="0,0,0,12"/>

                <!-- Expiration date -->
                <TextBlock Text="Expiration date"
                           Style="{StaticResource BaseTextStyle}" 
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <DatePicker SelectedDate="{Binding ExpirationDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            VerticalContentAlignment="Center"
                            HorizontalAlignment="Stretch"
                            Height="33"/>
            </StackPanel>
        </Grid>

        <!-- Status history -->
        <StackPanel Grid.Row="2" Margin="0,16,0,0">
            <TextBlock Text="Status history" 
                       Style="{StaticResource BodyTextStyle}" 
                       FontWeight="SemiBold"
                       Margin="0,0,0,5"/>

            <TextBox Text="{Binding StatusHistoryString, Mode=OneWay}"
                     Height="80"
                     HorizontalAlignment="Stretch"
                     TextWrapping="Wrap"
                     IsReadOnly="True"
                     Background="{StaticResource InputFieldBackgroundBrush}"
                     BorderBrush="{StaticResource InputFieldBorderBrush}"/>
        </StackPanel>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,24,0,0">
            <Button Content="Cancel"
                    Style="{StaticResource RejectButtonStyle}"
                    Command="{Binding CancelCommand}"
                    Margin="0,0,8,0"/>

            <Button Content="Update"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Command="{Binding UpdateDeviceCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>
